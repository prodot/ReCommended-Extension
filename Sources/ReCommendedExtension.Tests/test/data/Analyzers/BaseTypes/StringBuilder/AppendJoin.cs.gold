using System;
using System.Text;

namespace Test
{
    public class StringBuilders
    {
        public void RedundantInvocation(StringBuilder builder, string s, char c)
        {
            var result11 = builder.AppendJoin(s, (object?[])[]);
            var result12 = builder.AppendJoin(s, new object?[0]);
            var result13 = builder.AppendJoin(s, new object?[] { });
            var result14 = builder.AppendJoin(s, Array.Empty<object?>());

            var result21 = builder.AppendJoin(s, (int[])[]);
            var result22 = builder.AppendJoin(s, new int[0]);
            var result23 = builder.AppendJoin(s, new int[] { });
            var result24 = builder.AppendJoin(s, Array.Empty<int>());

            var result31 = builder.AppendJoin(s, (string?[])[]);
            var result32 = builder.AppendJoin(s, new string?[0]);
            var result33 = builder.AppendJoin(s, new string?[] { });
            var result34 = builder.AppendJoin(s, Array.Empty<string?>());

            var result41 = builder.AppendJoin(c, (object?[])[]);
            var result42 = builder.AppendJoin(c, new object?[0]);
            var result43 = builder.AppendJoin(c, new object?[] { });
            var result44 = builder.AppendJoin(c, Array.Empty<object?>());

            var result51 = builder.AppendJoin(c, (int[])[]);
            var result52 = builder.AppendJoin(c, new int[0]);
            var result53 = builder.AppendJoin(c, new int[] { });
            var result54 = builder.AppendJoin(c, Array.Empty<int>());

            var result61 = builder.AppendJoin(c, (string?[])[]);
            var result62 = builder.AppendJoin(c, new string?[0]);
            var result63 = builder.AppendJoin(c, new string?[] { });
            var result64 = builder.AppendJoin(c, Array.Empty<string?>());

            var result71 = builder.AppendJoin(s, default(ReadOnlySpan<object?>));
            var result72 = builder.AppendJoin(s, new ReadOnlySpan<object?>());

            var result81 = builder.AppendJoin(s, default(ReadOnlySpan<string?>));
            var result82 = builder.AppendJoin(s, new ReadOnlySpan<string?>());

            var result91 = builder.AppendJoin(c, default(ReadOnlySpan<object?>));
            var result92 = builder.AppendJoin(c, new ReadOnlySpan<object?>());

            var resultA1 = builder.AppendJoin(c, default(ReadOnlySpan<string?>));
            var resultA2 = builder.AppendJoin(c, new ReadOnlySpan<string?>());

            builder.AppendJoin(s, (object?[])[]);
            builder.AppendJoin(s, new object?[0]);
            builder.AppendJoin(s, new object?[] { });
            builder.AppendJoin(s, Array.Empty<object?>());

            builder.AppendJoin(s, (int[])[]);
            builder.AppendJoin(s, new int[0]);
            builder.AppendJoin(s, new int[] { });
            builder.AppendJoin(s, Array.Empty<int>());

            builder.AppendJoin(s, (string?[])[]);
            builder.AppendJoin(s, new string?[0]);
            builder.AppendJoin(s, new string?[] { });
            builder.AppendJoin(s, Array.Empty<string?>());

            builder.AppendJoin(c, (object?[])[]);
            builder.AppendJoin(c, new object?[0]);
            builder.AppendJoin(c, new object?[] { });
            builder.AppendJoin(c, Array.Empty<object?>());

            builder.AppendJoin(c, (int[])[]);
            builder.AppendJoin(c, new int[0]);
            builder.AppendJoin(c, new int[] { });
            builder.AppendJoin(c, Array.Empty<int>());

            builder.AppendJoin(c, (string?[])[]);
            builder.AppendJoin(c, new string?[0]);
            builder.AppendJoin(c, new string?[] { });
            builder.AppendJoin(c, Array.Empty<string?>());

            builder.AppendJoin(s, default(ReadOnlySpan<object?>));
            builder.AppendJoin(s, new ReadOnlySpan<object?>());

            builder.AppendJoin(s, default(ReadOnlySpan<string?>));
            builder.AppendJoin(s, new ReadOnlySpan<string?>());

            builder.AppendJoin(c, default(ReadOnlySpan<object?>));
            builder.AppendJoin(c, new ReadOnlySpan<object?>());

            builder.AppendJoin(c, default(ReadOnlySpan<string?>));
            builder.AppendJoin(c, new ReadOnlySpan<string?>());
        }

        public void RedundantInvocation_Nullable(StringBuilder? builder, string s, char c)
        {
            var result11 = builder?.AppendJoin(s, (object?[])[]);
            var result12 = builder?.AppendJoin(s, new object?[0]);
            var result13 = builder?.AppendJoin(s, new object?[] { });
            var result14 = builder?.AppendJoin(s, Array.Empty<object?>());

            var result21 = builder?.AppendJoin(s, (int[])[]);
            var result22 = builder?.AppendJoin(s, new int[0]);
            var result23 = builder?.AppendJoin(s, new int[] { });
            var result24 = builder?.AppendJoin(s, Array.Empty<int>());

            var result31 = builder?.AppendJoin(s, (string?[])[]);
            var result32 = builder?.AppendJoin(s, new string?[0]);
            var result33 = builder?.AppendJoin(s, new string?[] { });
            var result34 = builder?.AppendJoin(s, Array.Empty<string?>());

            var result41 = builder?.AppendJoin(c, (object?[])[]);
            var result42 = builder?.AppendJoin(c, new object?[0]);
            var result43 = builder?.AppendJoin(c, new object?[] { });
            var result44 = builder?.AppendJoin(c, Array.Empty<object?>());

            var result51 = builder?.AppendJoin(c, (int[])[]);
            var result52 = builder?.AppendJoin(c, new int[0]);
            var result53 = builder?.AppendJoin(c, new int[] { });
            var result54 = builder?.AppendJoin(c, Array.Empty<int>());

            var result61 = builder?.AppendJoin(c, (string?[])[]);
            var result62 = builder?.AppendJoin(c, new string?[0]);
            var result63 = builder?.AppendJoin(c, new string?[] { });
            var result64 = builder?.AppendJoin(c, Array.Empty<string?>());

            var result71 = builder?.AppendJoin(s, default(ReadOnlySpan<object?>));
            var result72 = builder?.AppendJoin(s, new ReadOnlySpan<object?>());

            var result81 = builder?.AppendJoin(s, default(ReadOnlySpan<string?>));
            var result82 = builder?.AppendJoin(s, new ReadOnlySpan<string?>());

            var result91 = builder?.AppendJoin(c, default(ReadOnlySpan<object?>));
            var result92 = builder?.AppendJoin(c, new ReadOnlySpan<object?>());

            var resultA1 = builder?.AppendJoin(c, default(ReadOnlySpan<string?>));
            var resultA2 = builder?.AppendJoin(c, new ReadOnlySpan<string?>());

            builder?.AppendJoin(s, (object?[])[]);
            builder?.AppendJoin(s, new object?[0]);
            builder?.AppendJoin(s, new object?[] { });
            builder?.AppendJoin(s, Array.Empty<object?>());

            builder?.AppendJoin(s, (int[])[]);
            builder?.AppendJoin(s, new int[0]);
            builder?.AppendJoin(s, new int[] { });
            builder?.AppendJoin(s, Array.Empty<int>());

            builder?.AppendJoin(s, (string?[])[]);
            builder?.AppendJoin(s, new string?[0]);
            builder?.AppendJoin(s, new string?[] { });
            builder?.AppendJoin(s, Array.Empty<string?>());

            builder?.AppendJoin(c, (object?[])[]);
            builder?.AppendJoin(c, new object?[0]);
            builder?.AppendJoin(c, new object?[] { });
            builder?.AppendJoin(c, Array.Empty<object?>());

            builder?.AppendJoin(c, (int[])[]);
            builder?.AppendJoin(c, new int[0]);
            builder?.AppendJoin(c, new int[] { });
            builder?.AppendJoin(c, Array.Empty<int>());

            builder?.AppendJoin(c, (string?[])[]);
            builder?.AppendJoin(c, new string?[0]);
            builder?.AppendJoin(c, new string?[] { });
            builder?.AppendJoin(c, Array.Empty<string?>());

            builder?.AppendJoin(s, default(ReadOnlySpan<object?>));
            builder?.AppendJoin(s, new ReadOnlySpan<object?>());

            builder?.AppendJoin(s, default(ReadOnlySpan<string?>));
            builder?.AppendJoin(s, new ReadOnlySpan<string?>());

            builder?.AppendJoin(c, default(ReadOnlySpan<object?>));
            builder?.AppendJoin(c, new ReadOnlySpan<object?>());

            builder?.AppendJoin(c, default(ReadOnlySpan<string?>));
            builder?.AppendJoin(c, new ReadOnlySpan<string?>());
        }

        public void OtherMethod(StringBuilder builder, string s, char c, object objectItem, int intItem, string stringItem)
        {
            var result11 = builder.|AppendJoin(s, (object?[])[objectItem])|(0);
            var result12 = builder.|AppendJoin(s, new[] { objectItem })|(1);

            var result21 = builder.|AppendJoin(s, (int[])[intItem])|(2);
            var result22 = builder.|AppendJoin(s, new[] { intItem })|(3);

            var result31 = builder.|AppendJoin(s, (string?[])[stringItem])|(4);
            var result32 = builder.|AppendJoin(s, new[] { stringItem })|(5);

            var result41 = builder.|AppendJoin(c, (object?[])[objectItem])|(6);
            var result43 = builder.|AppendJoin(c, new[] { objectItem })|(7);

            var result51 = builder.|AppendJoin(c, (int[])[intItem])|(8);
            var result52 = builder.|AppendJoin(c, new[] { intItem })|(9);

            var result61 = builder.|AppendJoin(c, (string?[])[stringItem])|(10);
            var result62 = builder.|AppendJoin(c, new[] { stringItem })|(11);

            var result71 = builder.|AppendJoin(s, [(object)"item"])|(12);
            var result72 = builder.|AppendJoin(s, (object)"item")|(13);

            var result81 = builder.|AppendJoin(s, (ReadOnlySpan<string?>)["item"])|(14);
            var result82 = builder.|AppendJoin(s, "item")|(15);

            var result91 = builder.|AppendJoin(c, [(object)"item"])|(16);
            var result92 = builder.|AppendJoin(c, (object)"item")|(17);

            var resultA1 = builder.|AppendJoin(c, (ReadOnlySpan<string?>)["item"])|(18);
            var resultA2 = builder.|AppendJoin(c, "item")|(19);

            builder.|AppendJoin(s, (object?[])[objectItem])|(20);
            builder.|AppendJoin(s, new[] { objectItem })|(21);

            builder.|AppendJoin(s, (int[])[intItem])|(22);
            builder.|AppendJoin(s, new[] { intItem })|(23);

            builder.|AppendJoin(s, (string?[])[stringItem])|(24);
            builder.|AppendJoin(s, new[] { stringItem })|(25);

            builder.|AppendJoin(c, (object?[])[objectItem])|(26);
            builder.|AppendJoin(c, new[] { objectItem })|(27);

            builder.|AppendJoin(c, (int[])[intItem])|(28);
            builder.|AppendJoin(c, new[] { intItem })|(29);

            builder.|AppendJoin(c, (string?[])[stringItem])|(30);
            builder.|AppendJoin(c, new[] { stringItem })|(31);

            builder.|AppendJoin(s, [(object)"item"])|(32);
            builder.|AppendJoin(s, (object)"item")|(33);

            builder.|AppendJoin(s, (ReadOnlySpan<string?>)["item"])|(34);
            builder.|AppendJoin(s, "item")|(35);

            builder.|AppendJoin(c, [(object)"item"])|(36);
            builder.|AppendJoin(c, (object)"item")|(37);

            builder.|AppendJoin(c, (ReadOnlySpan<string?>)["item"])|(38);
            builder.|AppendJoin(c, "item")|(39);
        }

        public void OtherMethod_Nullable(StringBuilder? builder, string s, char c, object objectItem, int intItem, string stringItem)
        {
            var result11 = builder?.|AppendJoin(s, (object?[])[objectItem])|(40);
            var result12 = builder?.|AppendJoin(s, new[] { objectItem })|(41);

            var result21 = builder?.|AppendJoin(s, (int[])[intItem])|(42);
            var result22 = builder?.|AppendJoin(s, new[] { intItem })|(43);

            var result31 = builder?.|AppendJoin(s, (string?[])[stringItem])|(44);
            var result32 = builder?.|AppendJoin(s, new[] { stringItem })|(45);

            var result41 = builder?.|AppendJoin(c, (object?[])[objectItem])|(46);
            var result43 = builder?.|AppendJoin(c, new[] { objectItem })|(47);

            var result51 = builder?.|AppendJoin(c, (int[])[intItem])|(48);
            var result52 = builder?.|AppendJoin(c, new[] { intItem })|(49);

            var result61 = builder?.|AppendJoin(c, (string?[])[stringItem])|(50);
            var result62 = builder?.|AppendJoin(c, new[] { stringItem })|(51);

            var result71 = builder?.|AppendJoin(s, [(object)"item"])|(52);
            var result72 = builder?.|AppendJoin(s, (object)"item")|(53);

            var result81 = builder?.|AppendJoin(s, (ReadOnlySpan<string?>)["item"])|(54);
            var result82 = builder?.|AppendJoin(s, "item")|(55);

            var result91 = builder?.|AppendJoin(c, [(object)"item"])|(56);
            var result92 = builder?.|AppendJoin(c, (object)"item")|(57);

            var resultA1 = builder?.|AppendJoin(c, (ReadOnlySpan<string?>)["item"])|(58);
            var resultA2 = builder?.|AppendJoin(c, "item")|(59);

            builder?.|AppendJoin(s, (object?[])[objectItem])|(60);
            builder?.|AppendJoin(s, new[] { objectItem })|(61);

            builder?.|AppendJoin(s, (int[])[intItem])|(62);
            builder?.|AppendJoin(s, new[] { intItem })|(63);

            builder?.|AppendJoin(s, (string?[])[stringItem])|(64);
            builder?.|AppendJoin(s, new[] { stringItem })|(65);

            builder?.|AppendJoin(c, (object?[])[objectItem])|(66);
            builder?.|AppendJoin(c, new[] { objectItem })|(67);

            builder?.|AppendJoin(c, (int[])[intItem])|(68);
            builder?.|AppendJoin(c, new[] { intItem })|(69);

            builder?.|AppendJoin(c, (string?[])[stringItem])|(70);
            builder?.|AppendJoin(c, new[] { stringItem })|(71);

            builder?.|AppendJoin(s, [(object)"item"])|(72);
            builder?.|AppendJoin(s, (object)"item")|(73);

            builder?.|AppendJoin(s, (ReadOnlySpan<string?>)["item"])|(74);
            builder?.|AppendJoin(s, "item")|(75);

            builder?.|AppendJoin(c, [(object)"item"])|(76);
            builder?.|AppendJoin(c, (object)"item")|(77);

            builder?.|AppendJoin(c, (ReadOnlySpan<string?>)["item"])|(78);
            builder?.|AppendJoin(c, "item")|(79);
        }

        public void SingleCharacter(StringBuilder builder, object?[] objectItems, int[] intItems, string?[] stringItems, ReadOnlySpan<object?> spanOfObjects, ReadOnlySpan<string?> spanOfStrings)
        {
            var result1 = builder.AppendJoin(",", objectItems);
            var result2 = builder.AppendJoin(",", intItems);
            var result3 = builder.AppendJoin(",", stringItems);
            var result4 = builder.AppendJoin(",", spanOfObjects);
            var result5 = builder.AppendJoin(",", spanOfStrings);

            builder.AppendJoin(",", objectItems);
            builder.AppendJoin(",", intItems);
            builder.AppendJoin(",", stringItems);
            builder.AppendJoin(",", spanOfObjects);
            builder.AppendJoin(",", spanOfStrings);
        }

        public void SingleCharacter_Nullable(StringBuilder? builder, object?[] objectItems, int[] intItems, string?[] stringItems, ReadOnlySpan<object?> spanOfObjects, ReadOnlySpan<string?> spanOfStrings)
        {
            var result1 = builder?.AppendJoin(",", objectItems);
            var result2 = builder?.AppendJoin(",", intItems);
            var result3 = builder?.AppendJoin(",", stringItems);
            var result4 = builder?.AppendJoin(",", spanOfObjects);
            var result5 = builder?.AppendJoin(",", spanOfStrings);

            builder?.AppendJoin(",", objectItems);
            builder?.AppendJoin(",", intItems);
            builder?.AppendJoin(",", stringItems);
            builder?.AppendJoin(",", spanOfObjects);
            builder?.AppendJoin(",", spanOfStrings);
        }

        public void NoDetection(StringBuilder builder, string s, char c, object objectItem, object?[] objectItems, int intItem, int[] intItems, string stringItem, string?[] stringItems, ReadOnlySpan<object?> spanOfObjects, ReadOnlySpan<string?> spanOfStrings)
        {
            var result11 = builder.AppendJoin(s, (object?[])[objectItem, objectItem]);
            var result12 = builder.AppendJoin(s, new[] { objectItem, objectItem });
            var result13 = builder.AppendJoin(s, objectItems);

            var result21 = builder.AppendJoin(s, (int[])[intItem, intItem]);
            var result22 = builder.AppendJoin(s, new[] { intItem, intItem });
            var result23 = builder.AppendJoin(s, intItems);

            var result31 = builder.AppendJoin(s, (string?[])[stringItem, stringItem]);
            var result32 = builder.AppendJoin(s, new[] { stringItem, stringItem });
            var result33 = builder.AppendJoin(s, stringItems);

            var result41 = builder.AppendJoin(c, (object?[])[objectItem, objectItem]);
            var result42 = builder.AppendJoin(c, new[] { objectItem, objectItem });
            var result43 = builder.AppendJoin(c, objectItems);

            var result51 = builder.AppendJoin(c, (int[])[intItem, intItem]);
            var result52 = builder.AppendJoin(c, new[] { intItem, intItem });
            var result53 = builder.AppendJoin(c, intItems);

            var result61 = builder.AppendJoin(c, (string?[])[stringItem, stringItem]);
            var result62 = builder.AppendJoin(c, new[] { stringItem, stringItem });
            var result63 = builder.AppendJoin(c, stringItems);

            var result71 = builder.AppendJoin(s, objectItem, objectItem);
            var result72 = builder.AppendJoin(s, [objectItem, objectItem]);
            var result73 = builder.AppendJoin(s, spanOfObjects);

            var result81 = builder.AppendJoin(s, stringItem, stringItem);
            var result82 = builder.AppendJoin(s, (ReadOnlySpan<string?>)[stringItem, stringItem]);
            var result83 = builder.AppendJoin(s, spanOfStrings);

            var result91 = builder.AppendJoin(c, objectItem, objectItem);
            var result92 = builder.AppendJoin(c, [objectItem, objectItem]);
            var result93 = builder.AppendJoin(c, spanOfObjects);

            var resultA1 = builder.AppendJoin(c, stringItem, stringItem);
            var resultA2 = builder.AppendJoin(c, (ReadOnlySpan<string?>)[stringItem, stringItem]);
            var resultA3 = builder.AppendJoin(c, spanOfStrings);
        }
    }
}
---------------------------------------------------------
(0): ReSharper Suggestion: Use the 'Append' method.
(1): ReSharper Suggestion: Use the 'Append' method.
(2): ReSharper Suggestion: Use the 'Append' method.
(3): ReSharper Suggestion: Use the 'Append' method.
(4): ReSharper Suggestion: Use the 'Append' method.
(5): ReSharper Suggestion: Use the 'Append' method.
(6): ReSharper Suggestion: Use the 'Append' method.
(7): ReSharper Suggestion: Use the 'Append' method.
(8): ReSharper Suggestion: Use the 'Append' method.
(9): ReSharper Suggestion: Use the 'Append' method.
(10): ReSharper Suggestion: Use the 'Append' method.
(11): ReSharper Suggestion: Use the 'Append' method.
(12): ReSharper Suggestion: Use the 'Append' method.
(13): ReSharper Suggestion: Use the 'Append' method.
(14): ReSharper Suggestion: Use the 'Append' method.
(15): ReSharper Suggestion: Use the 'Append' method.
(16): ReSharper Suggestion: Use the 'Append' method.
(17): ReSharper Suggestion: Use the 'Append' method.
(18): ReSharper Suggestion: Use the 'Append' method.
(19): ReSharper Suggestion: Use the 'Append' method.
(20): ReSharper Suggestion: Use the 'Append' method.
(21): ReSharper Suggestion: Use the 'Append' method.
(22): ReSharper Suggestion: Use the 'Append' method.
(23): ReSharper Suggestion: Use the 'Append' method.
(24): ReSharper Suggestion: Use the 'Append' method.
(25): ReSharper Suggestion: Use the 'Append' method.
(26): ReSharper Suggestion: Use the 'Append' method.
(27): ReSharper Suggestion: Use the 'Append' method.
(28): ReSharper Suggestion: Use the 'Append' method.
(29): ReSharper Suggestion: Use the 'Append' method.
(30): ReSharper Suggestion: Use the 'Append' method.
(31): ReSharper Suggestion: Use the 'Append' method.
(32): ReSharper Suggestion: Use the 'Append' method.
(33): ReSharper Suggestion: Use the 'Append' method.
(34): ReSharper Suggestion: Use the 'Append' method.
(35): ReSharper Suggestion: Use the 'Append' method.
(36): ReSharper Suggestion: Use the 'Append' method.
(37): ReSharper Suggestion: Use the 'Append' method.
(38): ReSharper Suggestion: Use the 'Append' method.
(39): ReSharper Suggestion: Use the 'Append' method.
(40): ReSharper Suggestion: Use the 'Append' method.
(41): ReSharper Suggestion: Use the 'Append' method.
(42): ReSharper Suggestion: Use the 'Append' method.
(43): ReSharper Suggestion: Use the 'Append' method.
(44): ReSharper Suggestion: Use the 'Append' method.
(45): ReSharper Suggestion: Use the 'Append' method.
(46): ReSharper Suggestion: Use the 'Append' method.
(47): ReSharper Suggestion: Use the 'Append' method.
(48): ReSharper Suggestion: Use the 'Append' method.
(49): ReSharper Suggestion: Use the 'Append' method.
(50): ReSharper Suggestion: Use the 'Append' method.
(51): ReSharper Suggestion: Use the 'Append' method.
(52): ReSharper Suggestion: Use the 'Append' method.
(53): ReSharper Suggestion: Use the 'Append' method.
(54): ReSharper Suggestion: Use the 'Append' method.
(55): ReSharper Suggestion: Use the 'Append' method.
(56): ReSharper Suggestion: Use the 'Append' method.
(57): ReSharper Suggestion: Use the 'Append' method.
(58): ReSharper Suggestion: Use the 'Append' method.
(59): ReSharper Suggestion: Use the 'Append' method.
(60): ReSharper Suggestion: Use the 'Append' method.
(61): ReSharper Suggestion: Use the 'Append' method.
(62): ReSharper Suggestion: Use the 'Append' method.
(63): ReSharper Suggestion: Use the 'Append' method.
(64): ReSharper Suggestion: Use the 'Append' method.
(65): ReSharper Suggestion: Use the 'Append' method.
(66): ReSharper Suggestion: Use the 'Append' method.
(67): ReSharper Suggestion: Use the 'Append' method.
(68): ReSharper Suggestion: Use the 'Append' method.
(69): ReSharper Suggestion: Use the 'Append' method.
(70): ReSharper Suggestion: Use the 'Append' method.
(71): ReSharper Suggestion: Use the 'Append' method.
(72): ReSharper Suggestion: Use the 'Append' method.
(73): ReSharper Suggestion: Use the 'Append' method.
(74): ReSharper Suggestion: Use the 'Append' method.
(75): ReSharper Suggestion: Use the 'Append' method.
(76): ReSharper Suggestion: Use the 'Append' method.
(77): ReSharper Suggestion: Use the 'Append' method.
(78): ReSharper Suggestion: Use the 'Append' method.
(79): ReSharper Suggestion: Use the 'Append' method.
